(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[197],{1197:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AuthModule:()=>E});var n=i(899),o=i(4655),r=i(3679),a=i(8259),s=i.n(a),c=i(7716),u=i(7556),l=i(2013),g=i(3738),m=i(8295),d=i(9983),p=i(6627),h=i(8583),f=i(1095),Z=i(4885);function b(t,e){1&t&&c._UZ(0,"mat-spinner",14)}const _=function(){return["/login"]};let A=(()=>{class t{constructor(t,e,i,n){this.fb=t,this.authService=e,this.router=i,this.notificationService=n,this.hide=!0,this.submitted=!1,this.loading=!1,this.registerForm=this.fb.group({name:[null,[r.kI.required,r.kI.minLength(4)]],email:[null,[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],password:[null,[r.kI.required,r.kI.minLength(8)]]})}ngOnInit(){}register(){this.loading=!0;const{name:t,email:e,password:i}=this.registerForm.value;this.authService.signup(t,e,i).subscribe(t=>{s().fire("Estimado usuario",t.message,"success"),this.loading=!1,setTimeout(()=>{this.router.navigateByUrl("/dashboard")})},t=>{this.notificationService.warn("Error: "+t.error.message),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(r.qu),c.Y36(u.e),c.Y36(o.F0),c.Y36(l.g))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-register"]],decls:43,vars:7,consts:[[1,"body"],[1,"register"],[3,"formGroup","ngSubmit"],["src","./assets/img/logo.png","width","80%"],["appearance","fill",1,"ancho"],["matInput","","type","text","autofocus","off","autocomplete","off","formControlName","name"],["matSuffix",""],["matInput","","type","email","autofocus","off","autocomplete","off","formControlName","email"],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["class","spinner","diameter","40",4,"ngIf"],["type","submit","mat-raised-button","","color","accent",1,"ancho","boton",3,"disabled"],[1,"form-group","mt-3"],[3,"routerLink"],["diameter","40",1,"spinner"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-card-content"),c.TgZ(4,"form",2),c.NdJ("ngSubmit",function(){return e.register()}),c._UZ(5,"img",3),c.TgZ(6,"h2"),c._uU(7,"Registro de usuario"),c.qZA(),c.TgZ(8,"mat-form-field",4),c.TgZ(9,"mat-label"),c._uU(10,"Nombre"),c.qZA(),c._UZ(11,"input",5),c.TgZ(12,"mat-icon",6),c._uU(13,"face"),c.qZA(),c.TgZ(14,"mat-error"),c._uU(15," Debes ingresar un nombre "),c.qZA(),c.qZA(),c.TgZ(16,"mat-form-field",4),c.TgZ(17,"mat-label"),c._uU(18,"Email"),c.qZA(),c._UZ(19,"input",7),c.TgZ(20,"mat-icon",6),c._uU(21,"email"),c.qZA(),c.TgZ(22,"mat-error"),c._uU(23," Debes ingresar un correo valido "),c.qZA(),c.qZA(),c.TgZ(24,"mat-form-field",4),c.TgZ(25,"mat-label"),c._uU(26,"Contrase\xf1a"),c.qZA(),c._UZ(27,"input",8),c.TgZ(28,"mat-icon",9),c.NdJ("click",function(){return e.hide=!e.hide}),c._uU(29),c.qZA(),c.TgZ(30,"mat-error"),c._uU(31,"Debes ingresar una contrase\xf1a"),c.qZA(),c.qZA(),c._UZ(32,"br"),c.YNc(33,b,1,0,"mat-spinner",10),c._UZ(34,"br"),c.TgZ(35,"button",11),c._uU(36,"Registrarse"),c.qZA(),c._UZ(37,"br"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"div",12),c.TgZ(39,"p"),c._uU(40," \xbfYa tienes cuenta? "),c.TgZ(41,"a",13),c._uU(42," \xa1Inicia sesi\xf3n! "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("formGroup",e.registerForm),c.xp6(23),c.Q6J("type",e.hide?"password":"text"),c.xp6(2),c.Oqu(e.hide?"visibility_off":"visibility"),c.xp6(4),c.Q6J("ngIf",e.loading),c.xp6(2),c.Q6J("disabled",e.registerForm.invalid),c.xp6(6),c.Q6J("routerLink",c.DdM(6,_)))},directives:[g.a8,g.dn,r._Y,r.JL,r.sg,m.KE,m.hX,d.Nt,r.Fj,r.JJ,r.u,p.Hw,m.R9,m.TO,r.Q7,h.O5,f.lW,o.yS,Z.$g],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;background-color:#f5f5f5}.register[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.ancho[_ngcontent-%COMP%]{width:80%}.boton[_ngcontent-%COMP%]{height:50px}mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}.spinner[_ngcontent-%COMP%]{margin:0 auto}"]}),t})();var v=i(8851),T=i(9075),q=i(1769);function U(t,e){1&t&&c._UZ(0,"mat-spinner",15)}const x=function(){return["/web/register"]};let y=(()=>{class t{constructor(t,e,i,n,o,a){this.title=t,this.fb=e,this.authService=i,this.socialAuthService=n,this.router=o,this.notificationService=a,this.pageTitle="Inicio de sesi\xf3n | Dashgular",this.loading=!1,this.hide=!0,this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],password:["",[r.kI.required,r.kI.minLength(8)]]})}ngOnInit(){this.title.setTitle(this.pageTitle),this.socialAuthService.authState.subscribe(t=>{this.user=t,this.isLoggedin=null!=t,console.log(this.user)})}loginWithGoogle(){this.socialAuthService.signIn(v.tV.PROVIDER_ID),this.socialAuthService.authState.subscribe(t=>{this.authService.loginSocial({name:t.firstName,lastname:t.lastName,email:t.email,photo:t.photoUrl}).subscribe(e=>{e.success?(this.user=t,this.isLoggedin=!0,this.router.navigateByUrl("/dashboard")):console.log("No se logue\xf3 correctamente")})})}loginWithFacebook(){this.socialAuthService.signIn(v.LP.PROVIDER_ID),this.socialAuthService.authState.subscribe(t=>{this.authService.loginSocial({name:t.firstName,lastname:t.lastName,email:t.email,photo:t.photoUrl}).subscribe(e=>{e.success?(this.user=t,this.isLoggedin=!0,this.router.navigateByUrl("/dashboard")):console.log("No se logue\xf3 correctamente")})})}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}login(){this.loading=!0;const{email:t,password:e}=this.loginForm.value;this.authService.login(t,e).subscribe(t=>{s().fire("Estimado usuario",t.message,"success"),this.loading=!1,setTimeout(()=>{this.router.navigateByUrl("/dashboard")})},t=>{this.notificationService.warn("  Error: "+t.error.message),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(T.Dx),c.Y36(r.qu),c.Y36(u.e),c.Y36(v.xE),c.Y36(o.F0),c.Y36(l.g))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:45,vars:7,consts:[[1,"body"],[1,"login"],[3,"formGroup","ngSubmit"],["src","./assets/img/logo.png","width","80%"],["appearance","fill",1,"ancho"],["matInput","","type","email","autofocus","off","formControlName","email"],["matSuffix",""],["matInput","","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],["class","spinner","diameter","40",4,"ngIf"],["type","submit","mat-raised-button","","color","accent",1,"ancho","boton",3,"disabled"],["mat-raised-button","","color","red",2,"margin","10px",3,"click"],["mat-raised-button","","color","blue",2,"margin","10px",3,"click"],[1,"form-group","mt-3"],[3,"routerLink"],["diameter","40",1,"spinner"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"mat-card"),c.TgZ(3,"mat-card-content"),c.TgZ(4,"form",2),c.NdJ("ngSubmit",function(){return e.login()}),c._UZ(5,"img",3),c.TgZ(6,"h2"),c._uU(7,"Inicio de sesi\xf3n"),c.qZA(),c.TgZ(8,"mat-form-field",4),c.TgZ(9,"mat-label"),c._uU(10,"Email"),c.qZA(),c._UZ(11,"input",5),c.TgZ(12,"mat-icon",6),c._uU(13,"email"),c.qZA(),c.TgZ(14,"mat-error"),c._uU(15," Debes ingresar un correo valido "),c.qZA(),c.qZA(),c.TgZ(16,"mat-form-field",4),c.TgZ(17,"mat-label"),c._uU(18,"Contrase\xf1a"),c.qZA(),c._UZ(19,"input",7),c.TgZ(20,"mat-icon",8),c.NdJ("click",function(){return e.hide=!e.hide}),c._uU(21),c.qZA(),c.TgZ(22,"mat-error"),c._uU(23,"Debes ingresar una contrase\xf1a"),c.qZA(),c.qZA(),c._UZ(24,"br"),c.YNc(25,U,1,0,"mat-spinner",9),c.TgZ(26,"button",10),c._uU(27,"Iniciar sesi\xf3n "),c.qZA(),c.qZA(),c._UZ(28,"br"),c._UZ(29,"mat-divider"),c._UZ(30,"br"),c.TgZ(31,"button",11),c.NdJ("click",function(){return e.loginWithGoogle()}),c._uU(32,"Google "),c.TgZ(33,"mat-icon",6),c._uU(34,"login"),c.qZA(),c.qZA(),c.TgZ(35,"button",12),c.NdJ("click",function(){return e.loginWithFacebook()}),c._uU(36,"Facebook "),c.TgZ(37,"mat-icon",6),c._uU(38,"login"),c.qZA(),c.qZA(),c._UZ(39,"br"),c.qZA(),c.qZA(),c.TgZ(40,"div",13),c.TgZ(41,"p"),c._uU(42," \xbfA\xfan no tienes cuenta? "),c.TgZ(43,"a",14),c._uU(44," \xa1Reg\xedstrate Ahora! "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("formGroup",e.loginForm),c.xp6(15),c.Q6J("type",e.hide?"password":"text"),c.xp6(2),c.Oqu(e.hide?"visibility_off":"visibility"),c.xp6(4),c.Q6J("ngIf",e.loading),c.xp6(1),c.Q6J("disabled",e.loginForm.invalid),c.xp6(17),c.Q6J("routerLink",c.DdM(6,x)))},directives:[g.a8,g.dn,r._Y,r.JL,r.sg,m.KE,m.hX,d.Nt,r.Fj,r.JJ,r.u,p.Hw,m.R9,m.TO,r.Q7,h.O5,f.lW,q.d,o.yS,Z.$g],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;background-color:#f5f5f5}.login[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.ancho[_ngcontent-%COMP%]{width:80%}.boton[_ngcontent-%COMP%]{height:50px}.mat-card[_ngcontent-%COMP%]{max-width:auto;margin:2em auto;text-align:center}.spinner[_ngcontent-%COMP%]{margin:0 auto}.inline-buttons[_ngcontent-%COMP%]{display:inline-block;text-align:center!important}.mat-raised-button.mat-red[_ngcontent-%COMP%]{background-color:#ff5252;color:#fff}.mat-raised-button.mat-blue[_ngcontent-%COMP%]{background-color:#42a5f5;color:#fff}"]}),t})();var k=i(3396),w=i(5072),I=i(2522),C=i(3017),S=i(7746);let M=(()=>{class t{constructor(t,e,i,n,o){this.auth=t,this.socialAuthService=e,this.route=i,this.mobileQuery=o.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>n.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){this.mobileQuery.removeListener(this._mobileQueryListener)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.e),c.Y36(v.xE),c.Y36(o.F0),c.Y36(c.sBO),c.Y36(w.vx))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-menu"]],decls:28,vars:11,consts:[[1,"container"],["color","primary",1,"toolbar"],["mat-icon-button","",3,"click"],[1,"app-name"],[1,"sidenav-container"],["fixedTopGap","0",3,"mode","fixedInViewport"],["snav",""],[1,"list-container"],["mat-list-item","",3,"routerLink","click"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"mat-toolbar",1),c.TgZ(2,"button",2),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c.TgZ(3,"mat-icon"),c._uU(4,"menu"),c.qZA(),c.qZA(),c.TgZ(5,"h1",3),c._uU(6,"Dashgular App"),c.qZA(),c.qZA(),c.TgZ(7,"mat-sidenav-container",4),c.TgZ(8,"mat-sidenav",5,6),c.TgZ(10,"mat-nav-list",7),c.TgZ(11,"a",8),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c._uU(12,"Inicio"),c.qZA(),c._UZ(13,"mat-divider"),c.TgZ(14,"a",8),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c._uU(15,"Registrarse"),c.qZA(),c._UZ(16,"mat-divider"),c.TgZ(17,"a",8),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c._uU(18," Iniciar sesi\xf3n"),c.qZA(),c._UZ(19,"mat-divider"),c.TgZ(20,"a",8),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c._uU(21," Video"),c.qZA(),c._UZ(22,"mat-divider"),c.TgZ(23,"a",8),c.NdJ("click",function(){return c.CHM(t),c.MAs(9).toggle()}),c._uU(24," Blog"),c.qZA(),c._UZ(25,"mat-divider"),c.qZA(),c.qZA(),c.TgZ(26,"mat-sidenav-content"),c._UZ(27,"router-outlet"),c.qZA(),c.qZA(),c.qZA()}2&t&&(c.ekj("example-is-mobile",e.mobileQuery.matches),c.xp6(7),c.Udp("margin-top",0,"px"),c.xp6(1),c.Q6J("mode",e.mobileQuery.matches?"over":"side")("fixedInViewport",e.mobileQuery.matches),c.xp6(3),c.Q6J("routerLink","home"),c.xp6(3),c.Q6J("routerLink","register"),c.xp6(3),c.Q6J("routerLink","/web"),c.xp6(3),c.Q6J("routerLink","video"),c.xp6(3),c.Q6J("routerLink","posts"))},directives:[I.Ye,f.lW,p.Hw,C.TM,C.JX,S.Hk,S.Tg,o.yS,q.d,C.Rh,o.lC],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.mobile[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.app-name[_ngcontent-%COMP%]{margin-left:10px}.sidenav-container[_ngcontent-%COMP%]{flex:1}.mobile[_ngcontent-%COMP%]   .sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}.mat-sidenav[_ngcontent-%COMP%]{width:220px}"]}),t})();function O(t,e){1&t&&c._UZ(0,"app-menu")}let J=(()=>{class t{constructor(t,e){this.router=t,this.wpAuthService=e,this.initializeApp(),this.Loggedin&&this.router.navigateByUrl("/dashboard")}get Loggedin(){return localStorage.getItem("token")}ngOnInit(){}initializeApp(){this.wpAuthService.autoAuthUser()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(o.F0),c.Y36(k.w))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-auth"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&c.YNc(0,O,1,0,"app-menu",0),2&t&&c.Q6J("ngIf",!e.Loggedin)},directives:[h.O5,M],styles:[""]}),t})();var L=i(8844),N=i(6927),Q=i(9922),P=i(8246),Y=i(4851);const F=[{path:"",component:J,children:[{path:"",component:y},{path:"register",component:A},{path:"home",component:L.O},{path:"video",component:N.j},{path:"post/:id",component:P.o},{path:"posts",component:Q.O},{path:"wp-login",component:Y.K},{path:"newpost",component:n.Q,canActivate:[(()=>{class t{constructor(t,e){this.wpAuthService=t,this.router=e}canActivate(t,e){return!(!localStorage.getItem("wp-token")||!this.wpAuthService.getIsAuth)||(s().fire("Error","Debe iniciar sesi\xf3n para acceder a este contenido","error"),setTimeout(()=>{this.router.navigate(["/web/wp-login"])},2e3),!1)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(k.w),c.LFG(o.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"**",redirectTo:""}]}];let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.Bz.forChild(F)],o.Bz]}),t})();var z=i(6183);let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[D,o.Bz,h.ez,z.m]]}),t})()}}]);